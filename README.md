# 技术需求
### 需求说明：
1. **Stateful Token to Stateless Token Migration:**
   - 设计一个机制，将现有的有状态令牌迁移到无状态访问令牌。
   - 确保系统在迁移过程中无缝处理，不影响用户体验。
   - 在迁移过程中保持数据一致性和完整性。

2. **Data Transfer from NoSQL to Relational Database:**
   - 分析现有的NoSQL数据库中的数据结构，并设计适当的关系数据库模式（例如PostgreSQL）来存储转移的数据。
   - 开发一个高效的数据转移机制，将数据从NoSQL迁移到关系数据库。
   - 确保转移过程中数据的一致性和完整性。

3. **Sharding:**
   - 实施分片，将负载分布到多个数据库实例。
   - 定义一个分片策略，允许高吞吐量和低延迟。
   - 确保数据分布和跨分片的负载平衡。

4. **High TPS and Low Latency:**
   - 设计系统以高效地处理每秒高交易量（TPS）。
   - 优化系统以实现低延迟，为用户提供快速响应时间。
   - 实施适当的缓存机制以提高性能。

### 交付物：
1. 系统架构图，展示涉及的组件及其交互。
2. 关系数据库的数据库模式设计。
3. 有状态令牌到无状态访问令牌的迁移机制。
4. 从NoSQL到关系数据库的数据转移机制。
5. 分片策略和实施细节。
6. 性能测试结果，展示高TPS和低延迟。

### 评估标准：
1. 设计：候选人应该展示一个经过深思熟虑的设计，满足所有要求。
2. 可扩展性：解决方案应通过分片和有效处理高TPS来实现可扩展性。
3. 数据完整性：迁移和转移机制应保持一致性和完整性。
4. 性能：系统应表现出低延迟和高吞吐量。
5. 文档：候选人应提供清晰、简洁的文档，解释解决方案。



# 技术架构


# 领域模型


# 核心流程

## session令牌
<img width="682" alt="image" src="https://github.com/user-attachments/assets/464ab647-846a-4455-916e-7a21277a631b">

## jwt令牌
<img width="705" alt="image" src="https://github.com/user-attachments/assets/a928988d-a786-4cfb-93e7-5814d06e5f1b">

## 数据迁移

## 


# 接口说明

# 

